(function(e){_cp=acf.fields.color_picker={$el:null,$input:null,farbtastic:null,set:function(t){e.extend(this,t);this.$input=this.$el.find('input[type="text"]');return this},init:function(){if(!this.farbtastic){e("body").append('<div id="acf-farbtastic" />');this.farbtastic=e.farbtastic("#acf-farbtastic")}if(acf.helpers.is_clone_field(this.$input))return;if(this.$input.val()){e.farbtastic(this.$input).setColor(this.$input.val()).hsl[2]>.5?color="#000":color="#fff";this.$input.css({backgroundColor:this.$input.val(),color:color})}},focus:function(){this.$input.val()||this.$input.val("#FFFFFF");e("#acf-farbtastic").css({left:this.$input.offset().left,top:this.$input.offset().top-e("#acf-farbtastic").height(),display:"block"});this.farbtastic.linkTo(this.$input)},blur:function(){this.$input.val()||this.$input.css({backgroundColor:"#fff",color:"#000"});e("#acf-farbtastic").css({display:"none"})}};e(document).live("acf/setup_fields",function(t,n){if(!e.farbtastic)return;e(n).find(".acf-color_picker").each(function(){_cp.set({$el:e(this)}).init()})});e('.acf-color_picker input[type="text"]').live("focus",function(){_cp.set({$el:e(this).parent()}).focus()}).live("blur",function(){_cp.set({$el:e(this).parent()}).blur()})})(jQuery);